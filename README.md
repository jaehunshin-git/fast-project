# Fast Project

Fast Project는 Next.js 15 기반의 자동화 Notion 워크스페이스 생성기입니다. 세 단계 마법사에서 프로젝트 브리프와 협업 도구 구성을 수집해 완성된 Notion 대시보드를 만들고, 공유 전에는 웹 대시보드 미리보기로 내용을 검토할 수 있습니다.

## 프로젝트 개요
- 팀이 새 프로젝트를 시작할 때마다 Notion 페이지를 수작업으로 구성하면서 정보 구조가 매번 달라져 온보딩 속도가 느려졌습니다.
- 디자인, PM, 엔지니어가 즐겨 쓰는 협업 도구를 한 페이지에서 정리하지 못해 회의 준비와 의사결정 맥락이 파편화되었습니다.
- 반복적인 페이지 작성 업무가 운영 인력에게 과도하게 쏠려 전략과 실행에 집중할 시간이 부족했습니다.

## 기대 효과
- 마법사가 프로젝트 정보를 표준화된 형식으로 수집해 누구나 동일한 대시보드 구조를 즉시 확보할 수 있습니다.
- 선택한 도구에 맞춰 단축 링크와 체크리스트가 자동으로 채워져 팀이 바로 실행 단계로 넘어갈 수 있습니다.
- Notion API를 통해 페이지 생성이 끝나면 링크가 반환되어 생성 즉시 공유하거나 거버넌스 흐름에 연결할 수 있습니다.

## 주요 기능
- `react-hook-form` 기반의 입력 검증과 단계 전환을 제공하는 안내형 마법사.
- 선택한 협업 도구에 맞춘 요약 카드와 대시보드 스냅샷.
- `POST /api/notion` 엔드포인트와 `createNotionPayload` 헬퍼를 통한 공식 SDK 연동.
- `/dashboard` 경로에서 URL 파라미터만으로 생성 결과를 미리 확인.

## 선행 준비물
- Node.js 20 LTS (프로젝트 가이드에서 권장하는 버전).
- npm 10 이상 (Node 20에 포함). 다른 패키지 매니저는 검증되지 않았습니다.
- Notion 워크스페이스에 쓰기 권한이 있는 통합 키 (페이지 동기화가 필요한 경우).

## 빠른 시작
1. 의존성 설치:
   ```bash
   npm install
   ```
2. 루트에 `.env.local` 파일을 만들고 아래 환경 변수를 추가합니다. 설정이 없어도 마법사는 동작하지만 Notion API 호출은 실패합니다.
3. 개발 서버 실행:
   ```bash
   npm run dev
   ```
   브라우저에서 `http://localhost:3000`으로 이동하면 HMR이 적용된 마법사를 확인할 수 있습니다.
4. PR 전에 린트 실행:
   ```bash
   npm run lint
   ```

## 환경 변수
Notion API 라우트는 API 키와 함께 페이지 혹은 데이터베이스 ID 중 하나 이상을 요구합니다. 모든 값은 `.env.local`에 보관하며 버전 관리에서 제외됩니다.

| 변수 | 필수 여부 | 설명 |
| --- | --- | --- |
| `NOTION_API_KEY` | (Notion 동기화를 사용할 때 필수) | 페이지/데이터베이스 작성 권한이 있는 Notion 내부 통합 토큰 |
| `NOTION_PARENT_PAGE_ID` | 둘 중 하나 필수 | 기존 페이지 아래에 하위 페이지를 생성할 때 사용. `NOTION_DATABASE_ID`와 상호 배타적 |
| `NOTION_DATABASE_ID` | 둘 중 하나 필수 | 생성 결과를 단일 페이지 대신 데이터베이스 아이템으로 저장 |

자세한 설정 방법은 `docs/notion.md`에 정리돼 있습니다.

## 사용 가능한 스크립트
- `npm run dev` - 핫 리로딩이 켜진 개발 서버를 시작합니다.
- `npm run build` - `.next/` 경로에 프로덕션 빌드를 생성합니다.
- `npm run start` - 프로덕션 빌드를 로컬에서 제공해 배포 환경을 검증합니다.
- `npm run lint` - `next/core-web-vitals` 설정으로 ESLint를 실행합니다.

## 프로젝트 구조
```
src/
  app/
    components/        // SummaryCard, ToolOptionCard 등 재사용 UI
    api/notion/        // Notion 페이지 생성 라우트 핸들러
    dashboard/         // URL 파라미터 기반 대시보드 미리보기
    layout.js          // 공통 레이아웃과 네비게이션
    page.js            // 메인 마법사 경험
  lib/
    notion.js          // Notion 페이지 페이로드 조합 로직
    notionClient.js    // 환경 변수 파싱과 클라이언트 생성기
    projectForm.js     // 기본 값, 단계 옵션, 선택 도구 정규화
    tools.js           // 통합 가능한 도구 메타데이터
public/                // 정적 자산
```

추가 기획 문서와 프롬프트 히스토리는 `prompts/`, 연동 가이드는 `docs/`에서 확인할 수 있습니다.

## Notion 연동 흐름
1. `src/lib/projectForm.js`에서 마법사가 수집한 값을 정규화하고 선택한 도구를 매핑합니다.
2. `src/lib/notion.js`의 `createNotionPayload`가 단계별 체크리스트, 토글, 콜아웃을 포함한 Notion 블록 구조를 만듭니다.
3. `src/app/api/notion/route.js`가 환경 설정을 검증하고 공식 SDK로 페이지 또는 데이터베이스 아이템을 생성합니다.
4. 성공 시 응답 본문에 `pageUrl`이 포함되어 UI에서 즉시 공유 링크를 노출합니다.

서버 측에서만 SDK가 동작하므로 API 키를 `.env.local`에 보관하고 값이 바뀔 때마다 개발 서버를 재시작해 주세요.

## UI 워크플로
- 1단계 - 프로젝트 정보: 프로젝트명, 설명, 단계, 팀 규모를 수집하고 실시간 유효성 검사를 제공합니다.
- 2단계 - 도구 스택: `TOOL_OPTIONS`에서 원하는 도구를 토글로 선택하며 요약 카드와 대시보드에 즉시 반영됩니다.
- 3단계 - 요약: 입력 내용을 검토하고 대시보드 스냅샷 링크를 통해 결과를 확인한 뒤 Notion 내보내기를 요청합니다.
- 대시보드 미리보기: `/dashboard` 경로에서 URL 파라미터만으로 결과를 재구성해 팀과 쉽게 공유합니다.

## 개발 가이드라인
- 두 칸 들여쓰기와 이중 따옴표 사용 등 기존 코드 스타일을 유지합니다.
- Tailwind 유틸리티는 레이아웃, 간격, 상태 순으로 정리해 가독성을 높입니다.
- UI 컴포넌트는 `src/app/components/`, 비즈니스 로직은 `src/lib/`에 배치합니다.
- `.next/` 등 빌드 아티팩트는 버전 관리에서 제외합니다.

## 수동 검증 체크리스트
- `npm run lint`가 경고 없이 통과하는지 확인합니다.
- 서로 다른 단계와 팀 규모를 입력해 검증 메시지와 상태 전환이 기대대로 동작하는지 확인합니다.
- 여러 도구를 토글하면서 요약 카드와 대시보드 내용이 즉시 동기화되는지 확인합니다.
- (선택) 유효한 Notion 자격 증명으로 제출해 지정한 부모 아래에 페이지가 생성되는지 검증합니다.
- `/dashboard`를 직접 방문해 파라미터가 없을 때도 적절한 안내가 나타나는지 확인합니다.

## 참고 자료
- Notion 통합 설정: `docs/notion.md`
- 기획 및 프롬프트 아카이브: `prompts/`
- 공용 컴포넌트 모음: `src/app/components/`
